/**
 * Bundled by jsDelivr using Rollup v2.79.1 and Terser v5.19.2.
 * Original file: /npm/ndarray-ops@1.2.2/ndarray-ops.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import a from"../cwise-compiler@1.1.3/_esm.js";var r={};!function(r){var s=a,i={body:"",args:[],thisVars:[],localVars:[]};function t(a){if(!a)return i;for(var r=0;r<a.args.length;++r){var s=a.args[r];a.args[r]=0===r?{name:s,lvalue:!0,rvalue:!!a.rvalue,count:a.count||1}:{name:s,lvalue:!1,rvalue:!0,count:1}}return a.thisVars||(a.thisVars=[]),a.localVars||(a.localVars=[]),a}function n(a){for(var r=[],i=0;i<a.args.length;++i)r.push("a"+i);return new Function("P",["return function ",a.funcName,"_ndarrayops(",r.join(","),") {P(",r.join(","),");return a0}"].join(""))(function(a){return s({args:a.args,pre:t(a.pre),body:t(a.body),post:t(a.proc),funcName:a.funcName})}(a))}var o={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var a in o){var s=o[a];r[a]=n({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+s+"c"},funcName:a}),r[a+"eq"]=n({args:["array","array"],body:{args:["a","b"],body:"a"+s+"=b"},rvalue:!0,funcName:a+"eq"}),r[a+"s"]=n({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+s+"s"},funcName:a+"s"}),r[a+"seq"]=n({args:["array","scalar"],body:{args:["a","s"],body:"a"+s+"=s"},rvalue:!0,funcName:a+"seq"})}}();var e={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var a in e){var s=e[a];r[a]=n({args:["array","array"],body:{args:["a","b"],body:"a="+s+"b"},funcName:a}),r[a+"eq"]=n({args:["array"],body:{args:["a"],body:"a="+s+"a"},rvalue:!0,count:2,funcName:a+"eq"})}}();var _={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var a in _){var s=_[a];r[a]=n({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+s+"c"},funcName:a}),r[a+"s"]=n({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+s+"s"},funcName:a+"s"}),r[a+"eq"]=n({args:["array","array"],body:{args:["a","b"],body:"a=a"+s+"b"},rvalue:!0,count:2,funcName:a+"eq"}),r[a+"seq"]=n({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+s+"s"},rvalue:!0,count:2,funcName:a+"seq"})}}();var l=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var a=0;a<l.length;++a){var s=l[a];r[s]=n({args:["array","array"],pre:{args:[],body:"this_f=Math."+s,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:s}),r[s+"eq"]=n({args:["array"],pre:{args:[],body:"this_f=Math."+s,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:s+"eq"})}}();var h=["max","min","atan2","pow"];!function(){for(var a=0;a<h.length;++a){var s=h[a];r[s]=n({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+s,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:s}),r[s+"s"]=n({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+s,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:s+"s"}),r[s+"eq"]=n({args:["array","array"],pre:{args:[],body:"this_f=Math."+s,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:s+"eq"}),r[s+"seq"]=n({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+s,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:s+"seq"})}}();var u=["atan2","pow"];!function(){for(var a=0;a<u.length;++a){var s=u[a];r[s+"op"]=n({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+s,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:s+"op"}),r[s+"ops"]=n({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+s,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:s+"ops"}),r[s+"opeq"]=n({args:["array","array"],pre:{args:[],body:"this_f=Math."+s,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:s+"opeq"}),r[s+"opseq"]=n({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+s,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:s+"opseq"})}}(),r.any=s({args:["array"],pre:i,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),r.all=s({args:["array"],pre:i,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),r.sum=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),r.prod=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),r.norm2squared=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),r.norm2=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),r.norminf=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),r.norm1=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),r.sup=s({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),r.inf=s({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),r.argmin=s({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),r.argmax=s({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),r.random=n({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),r.assign=n({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),r.assigns=n({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),r.equals=s({args:["array","array"],pre:i,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})}(r);var s=r.all,i=r.any,t=r.argmax,n=r.argmin,o=r.assign,e=r.assigns,_=r.equals,l=r.inf,h=r.norm1,u=r.norm2,y=r.norm2squared,g=r.norminf,b=r.prod,c=r.random,d=r.sum,f=r.sup;export{s as all,i as any,t as argmax,n as argmin,o as assign,e as assigns,r as default,_ as equals,l as inf,h as norm1,u as norm2,y as norm2squared,g as norminf,b as prod,c as random,d as sum,f as sup};
